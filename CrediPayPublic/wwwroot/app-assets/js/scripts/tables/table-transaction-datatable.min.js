"use strict";
function filterColumn(a, e) {
    if (5 == a) {
        var t = $(".start_date").val(),
            l = $(".end_date").val();
        "" !== t && "" !== l && filterByDate(a, t, l), $(".dt-advanced-search").dataTable().fnDraw();
    } else $(".dt-advanced-search").DataTable().column(a).search(e, !1, !0).draw();
}
var separator = " - ",
    rangePickr = $(".flatpickr-range"),
    dateFormat = "MM/DD/YYYY",
    options = { autoUpdateInput: !1, autoApply: !0, locale: { format: dateFormat, separator: separator }, opens: "rtl" === $("html").attr("data-textdirection") ? "left" : "right" };
rangePickr.length &&
    rangePickr.flatpickr({
        mode: "range",
        dateFormat: "m/d/Y",
        onClose: function (a, e, t) {
            var l = "",
                n = new Date();
            null != a[0] && ((l = a[0].getMonth() + 1 + "/" + a[0].getDate() + "/" + a[0].getFullYear()), $(".start_date").val(l)),
                null != a[1] && ((n = a[1].getMonth() + 1 + "/" + a[1].getDate() + "/" + a[1].getFullYear()), $(".end_date").val(n)),
                $(rangePickr).trigger("change").trigger("keyup");
        },
    });
var filterByDate = function (a, e, t) {
    $.fn.dataTableExt.afnFiltering.push(function (l, n, s) {
        var o = normalizeDate(n[a]),
            r = normalizeDate(e),
            d = normalizeDate(t);
        return (r <= o && o <= d) || (o >= r && "" === d && "" !== r) || (o <= d && "" === r && "" !== d);
    });
},
    normalizeDate = function (a) {
        var e = new Date(a);
        return e.getFullYear() + "" + ("0" + (e.getMonth() + 1)).slice(-2) + ("0" + e.getDate()).slice(-2);
    };
$(function () {
    $("html").attr("data-textdirection");
    var a = $(".datatables-ajax"),
        e = $(".dt-column-search"),
        t = $(".dt-advanced-search"),
        l = $(".dt-responsive");
    if (("laravel" === $("body").attr("data-framework") && (n = $("body").attr("data-asset-path")), a.length))
        a.dataTable({
            processing: !0,
            dom: '<"card-header border-bottom p-1"<"head-label"><"dt-action-buttons text-end"B>><"d-flex justify-content-between align-items-center mx-0 row"<"col-sm-12 col-md-6"l><"col-sm-12 col-md-6"f>>t<"d-flex justify-content-between mx-0 row"<"col-sm-12 col-md-6"i><"col-sm-12 col-md-6"p>>',
            buttons: [
                {
                    extend: "collection",
                    className: "btn btn-outline-secondary dropdown-toggle me-2",
                    text: feather.icons.share.toSvg({ class: "font-small-4 me-50" }) + "Export",
                    buttons: [
                        { extend: "print", text: feather.icons.printer.toSvg({ class: "font-small-4 me-50" }) + "Print", className: "dropdown-item", exportOptions: { columns: [0, 1, 2, 3, 4] } },
                        { extend: "csv", text: feather.icons["file-text"].toSvg({ class: "font-small-4 me-50" }) + "Csv", className: "dropdown-item", exportOptions: { columns: [0, 1, 2, 3, 4] } },
                        { extend: "excel", text: feather.icons.file.toSvg({ class: "font-small-4 me-50" }) + "Excel", className: "dropdown-item", exportOptions: { columns: [0, 1, 2, 3, 4] } },
                        { extend: "pdf", text: feather.icons.clipboard.toSvg({ class: "font-small-4 me-50" }) + "Pdf", className: "dropdown-item", exportOptions: { columns: [0, 1, 2, 3, 4] } },
                        { extend: "copy", text: feather.icons.copy.toSvg({ class: "font-small-4 me-50" }) + "Copy", className: "dropdown-item", exportOptions: { columns: [0, 1, 2, 3, 4] } },
                    ],
                    init: function (e, a, t) {
                        $(a).removeClass("btn-secondary"),
                            $(a).parent().removeClass("btn-group"),
                            setTimeout(function () {
                                $(a).closest(".dt-buttons").removeClass("btn-group").addClass("d-inline-flex");
                            }, 50);
                    },
                },
                {
                    text: feather.icons.plus.toSvg({ class: "me-50 font-small-4" }) + "Add New",
                    className: "create-new show-add-new-paypoint-btn btn btn-primary",
                    init: function (e, a, t) {
                        $(a).removeClass("btn-secondary");
                    },
                },
            ],
            language: { paginate: { previous: "&nbsp;", next: "&nbsp;" } },
        });
    $("div.head-label").html('<h3 class="mb-0">Inflow Transactions</h6>');
    $(".dataTables_filter .form-control").removeClass("form-control-sm"), $(".dataTables_length .form-select").removeClass("form-select-sm").removeClass("form-control-sm");
});
